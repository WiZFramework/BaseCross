<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<link href="css/main.css" rel="stylesheet" type="text/css">
<title>ステージエディタプロジェクト(2018年)</title>
</head>
<body>
<!-- 全体コンテナ　-->
<div id="container">
<div id="header">
<h2>ステージエディタプロジェクト(2018年)</h2>
</div>
<!-- コンテンツ　-->
<div id="contents">
<br/>
<h3>【ステップ１】ステージエディタの雛形</h3>
　ステージエディタプロジェクトの最初のステップは<b>ひな形</b>です。<br />
　<b>StageEditor01</b>というディレクトリ内のソリューションを開いてください。<br />
　<b>VisualStudio2015</b>の場合は<b>StageEditorVS2015.sln</b>を、<b>VisualStudio2017</b>の場合は<b>StageEditorVS2017.sln</b>を開いてください。<br />
　このソリューションを実行するには<b>MFC</b>があらかじめセットアップされている必要があります。<br />
　また<b>VisualStudio2017</b>をお使いの方は<b>Windows8.1SDK</b>がセットアップされているか確認ください。<br />
<br />
　ビルドして実行すると以下の画面が現れます。
<p>&nbsp;</p>
<img src="img/st01a.png" width="80%"/>
<p>図st01a</p>
<p>&nbsp;</p>
　この画面は<b>オブジェクトの配置</b>をする画面です。コントローラでカメラの回転をすることができます。また、中心に白い球があり、これは<b>カメラの視点</b>です。コントローラで移動することができ、ステージ内のどこにオブジェクトを配置するか見ることができます。<br />
　カメラは寄ったり引いたりできます。これはh化のサンプルと同じです。<br />
　さて、ここに<b>ゲームオブジェクト</b>を配置して、それをデータとして保存できるようにします。<br />
　保存形式は<b>フルサンプル604</b>で紹介した<b>オブジェクトビルダー</b>で利用できる<b>xml形式のファイル</b>です。<br />
　<b>オブジェクトビルダー</b>のサンプルでは各ゲームオブジェクトに<b>XMLのノード</b>を渡して処理方法は各オブジェクトに任せます。<br />
　この形式だと汎用性も高く、XMLなので保守性も高いと思います。<br />
<>br />
　さて、今回のサンプル<b>StageEditor01</b>は<b>ステージエディタの雛形</b>です。ですから、目立った実装はされていません。<br />
　しかしながら、<b>BaseCrossのフルバージョン</b>が持ってるすべて機能を利用することができます。<br />
　表示されている黒い背景の画面は、<b>ゲーム画面そのもの</b>です。ウインドウの枠やメニューがありますが、この画面の中は<b>DirectX11の世界</b>となっています。<br />
<br/>
　それでは、メニューの<b>オブジェクト－新規追加</b>を選択してみましょう。以下のダイアログがでます。
<p>&nbsp;</p>
<img src="img/st01b.png" width="40%"/>
<p>図st01b</p>
<p>&nbsp;</p>
　このように、何も配置されてないダイアログです。<b>OK</b>か<b>キャンセル</b>でダイアログを終了します。<br />
<br />
　これからこのひな型に<b>ステージエディタ</b>を実装していきます。<br />
　実際にプログラミングするには<b>MFC</b>の知識が必要かと思いますが、ネットにはいろんな情報がありますので、調べてみるといいと思います。<br />
　このプロジェクトは<b>MFC</b>の<b>シングルドキュメント</b>といいうのを使っています。<b>ドキュメントビューアーキテクチャー</b>は使用していません。<br />
　<b>MFC</b>に精通している人であれば以上の情報でなんとなく構造がわかると思います。<br />
<br />
　ここで紹介したサンプルはあくまで雛形なので、解説はこの辺にしておきます。詳しくはコードを読んでください。<br />
　この後は<b>ステップ２</b>に向けて、<b>オブジェクトの配置</b>ができるようにしたいと思います。<br />
　その過程は<b>StageEditor02</b>というサンプルに実装していきます。<br />
　まとまった段階でドキュメントを記述します。しばらくはGitHubの更新情報（コミット）を確認ください。
</div>
<!-- /コンテンツ　-->
<hr>
<!-- フッタ　-->
<ul class="foot_navi">
<li><a href="st00.html">前へ</a></li>
<li><a href="index_st.html">目次</a></li>
</ul>
<!-- /フッタ　-->


</div>
<!-- /全体コンテナ　-->
</body>
</html>
